<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>RPG Developer NEXT 取扱説明書</title>
<link rel="stylesheet" type="text/css" href="css/reset.css">
<link rel="stylesheet" type="text/css" href="css/style.css">
<script src="js/jquery.min.js"></script>
<script src="js/script.js"></script>
<script src="js/auto-document.js"></script>
<script src="js/version-getter.js"></script>
</head>

<body class="node_editor-text">
<!-- タイトルバー -->
<div id="header">
  <a href="index.html"><h1><span>RPG Developer NEXT</span> <script>PrintVersion();</script> 取扱説明書</h1></a>
</div>

<div id="container">
<!-- 目次サイドバー -->
<div id="menuContainer">
  <div id="menuContent">
    <script src="js/manual-tree.js"></script>
    <script src="js/auto-tree.js"></script>
  </div>
</div>

<!-- メインコンテンツ -->
<div id="mainContainer">
  <!-- ぱんくずリスト [&gt]=[>] -->
  <div id="breadcrumb"><a href="index.html">HOME</a> &gt; <a href="editor.html">エディター部</a> &gt; テキスト エディター</div>

  <!-- 親ノード見出し -->
  <h2>テキスト エディター</h2>
  <div class="text">
    <!-- 親ノードのテキスト -->
    <p>
      プロジェクト全般のテキスト編集部分を司ります。<br>
      エディター上の支援機能の違いにより一般テキストとスクリプトの2つに大別されます。<br>
    </p>
  </div>
  <hr>

  <!-- 子ノード見出し -->
  <h3 id="1">ファイルツリー</h3>
  <div class="text">
    <!-- 子ノードのテキスト -->
    <p>
      プロジェクトフォルダーの「Texts」フォルダー以下が表示されています。<br>
      ここからファイルやフォルダーの追加や削除、コピー、貼り付け等の操作ができます。<br>
      スクリプトの場合は拡張子（ファイル名末尾の文字列）を「.nut」にして下さい。<br>
      一般テキストについては基本的にゲーム内で利用することは想定していませんので、拡張子を付けなくても構いません。<br>
    </p>
  </div>
  <hr>

  <h3 id="2">支援機能サイドバー</h3>
  <div class="text">
    <!-- 子ノードのテキスト -->
    <p>
      テキスト編集およびスクリプトのコーディングに関する便利なツールがまとめられています。<br>
    </p>

    <h4>検索と置換</h4>
    <p>
      ファイルをまたがった検索や置換を行います。<br>
      検索範囲を「スクリプト」にすると、拡張子が「.nut」のファイルのみを対象とします。<br>
      一括検索を実行するとリストに該当箇所が表示されるので、ダブルクリックでジャンプして単一置換を行います。<br>
      置換する数が多い場合は一括置換が効果的ですが、この操作は元に戻せないのでご注意下さい。<br>
    </p>

    <h4>コード挿入</h4>
    <p>
      スクリプトを編集するにあたって、もはや必須と言っても過言ではないほど重宝する機能です。<br>
      この領域にあるツリーを「コマンドツリー」と呼びます。<br>
    </p>
    <p>
      ノードをダブルクリックすると、対応するコードを自動で挿入します。<br>
      Shiftキーを押しながらダブルクリックすると、選択しているノードだけの識別子を直接挿入します。<br>
      クラス型の変数やプロパティ（インスタンス）については、その型に基づいたメンバーをノードに含みます。<br>
      戻り値も引数もない関数は直接挿入、クラス型のプロパティや列挙体は末尾に . を付けて直接挿入します。<br>
      「組み込みオブジェクト：変数」以下については、起点とするノードからのフルパス表記で挿入します。<br>
    </p>
    <p>
      「ツール」ノードでは、それぞれ専用のダイアログから細かなパラメーターを与えることもできます。<br>
      各ノードに関する詳細については、コマンドツリーのツールヒントもしくは目次の「<a href="sq-syntax.html">スクリプトの基本文法</a>」および「組み込みオブジェクト」をご覧下さい。<br>
    </p>

    <h4>コード解析</h4>
    <p>
      スクリプトを開いた状態で、「リスト生成」を実行することで関数と変数のリストが表示されます。<br>
      環境設定を変更することでスクリプトを開くと自動的に「リスト生成」を実行することもできます。<br>
      リストの項目をダブルクリックすると、該当箇所へジャンプすることができます。<br>
      リストを生成した状態で「コードメトリックス計算」を実行することで、各関数に対してコードの複雑さを示す指標を計算できます。<br>
    </p>
    <ul class="circle">
      <li>ステートメント数 … その関数に含まれる実質的な処理数を示します。</li>
      <li>サイクロマティック複雑度 … その関数内での分岐数を示します。最低値は 1 で、10 以下は「非常に良い構造」、30 以上は「構造的なリスクあり」、75 以上は「いかなる変更も誤修正を生む」と一般的に言われています。</li>
    </ul>

    <h4>共通変数検索</h4>
    <p>
      データベース「変数/フラグ」で定義した全スクリプト共通のフラグ値・整数値・文字列値が使われている箇所を検索します。<br>
      「コード解析」と同様の要領で「検索実行」によってリストが生成されます。<br>
      「共通変数リスト」は定義している変数のリストで、使用されている個数が表示されます。<br>
      このリストから項目を選択すると、「使用場所リスト」に使用箇所の情報が表示されます。<br>
      リスト上の項目をダブルクリックすることで該当箇所へジャンプできます。<br>
    </p>
  </div>
  <hr>

  <h3 id="3">編集ツール</h3>
  <div class="text">
    <!-- 子ノードのテキスト -->
    <h4>ラベル一覧</h4>
    <p>
      環境設定で予約されたキーワードから始まる行をリストアップして、該当箇所にジャンプできます。<br>
    </p>

    <h4>コード補完</h4>
    <p>
      現在カーソルのある位置にコードを挿入するための入力補完窓を開きます。<br>
      選択している単語がインスタンスやクラスであるときは、自動的にドットが打たれて絞り込み検索になります。<br>
      補完窓に入力するとサジェスト候補とその解説が表示されるので、これを確認しながらEnterキーを押して確定します。<br>
      補完窓の末尾にドットを打つことで、そこまでの入力を確定しつつ連続的な補完を行うことができます。<br>
    </p>

    <h4>コード逆探索</h4>
    <p>
      現在カーソルのある位置のコードから対応するコマンドツリーのノードを検索します。<br>
      複数候補が見つかった場合は手動でいずれか一つを選択して特定する必要があります。<br>
      この機能は、データベースのFixedIDからの項目逆検索（10進数・16進数）にも有用です。<br>
    </p>

    <h4>右クリックメニュー「検索と置換」</h4>
    <p>
      現在開いているファイルに対して検索や置換を行います。<br>
      本ソフトでは支援機能ツールバーの「検索と置換」機能と区別するために「ローカル検索」と呼びます。<br>
    </p>

    <h4>スクリプト即席テスト</h4>
    <p>
      現在のスクリプトの簡易的な動作テストが行えます。<br>
      これは主に関数単位で入出力の動作を確認するために行うことを想定していますが、引数や戻り値を出力する等といった機能はありません。<br>
      処理中の変数の値を確認したい場合は、呼び出す関数の中でコンソールに出力する処理を含める等の工夫をする必要があります。<br>
    </p>
  </div>
  <hr>

</div><!-- /#mainContainer -->
</div><!-- /#container -->
</body>
</html>
